<!doctype html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
    <title>logicalmethods.ai &ndash; Logical proofs </title>
    <link rel="icon" type="image/x-icon" href="https://logicalmethods.ai/favicon.ico"></link>
    <link href="https://logicalmethods.ai/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"></link>
    <link rel="stylesheet" href="https://logicalmethods.ai/icons/font/bootstrap-icons.min.css"></link>
    <link rel="stylesheet" href="https://logicalmethods.ai/css/layout.css"></link>
    <link rel="stylesheet" href="https://logicalmethods.ai/css/syntax_hl.css"></link>
    <link href="https://logicalmethods.ai/css/textbook.css" rel="stylesheet"></link>
    <style>
      
    :root {
      --chapter: "7";
    }

    </style>
    
      <link rel="stylesheet" href="https://logicalmethods.ai/katex/katex.min.css">
<script defer src="https://logicalmethods.ai/katex/katex.min.js"></script>
<script defer src="https://logicalmethods.ai/katex/contrib/auto-render.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
      delimiters: [
        {left: '$$', right: '$$', display: true},     
        {left: '$', right: '$', display: false},     
        {left: '\\[', right: '\\]', display: true},   
        {left: '\\(', right: '\\)', display: false},  
      ],
      throwOnError : false
    });
  });
</script>


    
  </head>
  <body class="bg-black d-flex flex-column m-0 p-0">
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvas-nav" aria-labelledby="offcanvas-navLabel" data-bs-theme="dark" data-bs-backdrop="false">
  <div class="offcanvas-header">
    <div class="h5 offcanvas-title" id="offcanvas-navLabel">
      Browse course
    </div>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  
  <div class="offcanvas-body">
    <ul class="navbar-nav">
      
      <li class="nav-item">
        <div class="d-flex flex-row">
          <div class="container">
            <a class="nav-link " href="/about/"><i class="bi-file-person-fill"></i> &nbsp;&nbsp; About</a>
          </div>
      </li>
      
      
      <hr>
      <li class="nav-item">
        <div class="d-flex flex-row">
          <div class="container">
            <a class="nav-link fw-bold active" href="/textbook/"><i class="bi bi-book"></i> &nbsp;&nbsp; Textbook</a>
          </div>
          <button 
            class="btn btn-sm btn-dark" 
            href="/textbook/"
            id="navbarSectiontxt-home" data-bs-toggle="collapse"
            data-bs-target="#collapsetxt-home"  
            aria-expanded="true"
            aria-controls="collapsetxt-home">
            <i class="bi bi-caret-left-fill toggle-icon"></i>
          </button>
        </div>
        <div class="collapse show" id="collapsetxt-home">
          <ul class="list-unstyled ms-3">
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/textbook/logic-and-ai/"
              >1. 
                <i class="bi bi-unlock-fill"></i>
                 Logic and AI
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/textbook/formal-languages/"
              >2. 
                <i class="bi bi-unlock-fill"></i>
                 Formal languages
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/textbook/valid-inference/"
              >3. 
                <i class="bi bi-unlock-fill"></i>
                 Valid Inference
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/textbook/boolean/"
              >4. 
                <i class="bi bi-unlock-fill"></i>
                 Boolean algebra
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/textbook/sat/"
              >5. 
                <i class="bi bi-unlock-fill"></i>
                 Boolean satisfiability
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/textbook/conditionals/"
              >6. 
                <i class="bi bi-unlock-fill"></i>
                 Logical conditionals
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                fw-bold active
                
                "
                href="/textbook/proofs/"
              >7. 
                <i class="bi bi-unlock-fill"></i>
                 Logical proofs
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/textbook/fol/"
              >8. 
                <i class="bi bi-unlock-fill"></i>
                 FOL
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >9. 
                <i class="bi bi-lock-fill"></i>
                 FOL Inference
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >10. 
                <i class="bi bi-lock-fill"></i>
                 Many-valued logics
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >11. 
                <i class="bi bi-lock-fill"></i>
                 Logic and probability
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >12. 
                <i class="bi bi-lock-fill"></i>
                 Logic-based learning
              </a>
            </li>
            
          </ul>
        </div>
          
      </li>
      
      
      <hr>
      <li class="nav-item">
        <div class="d-flex flex-row">
          <div class="container">
            <a class="nav-link " href="/slides/"><i class="bi bi-rocket-takeoff-fill"></i> &nbsp;&nbsp; Slides</a>
          </div>
          <button 
            class="btn btn-sm btn-dark" 
            href="/slides/"
            id="navbarSectionsli-home" data-bs-toggle="collapse"
            data-bs-target="#collapsesli-home"  
            aria-expanded="aria-expanded=false"
            aria-controls="collapsesli-home">
            <i class="bi bi-caret-left-fill toggle-icon"></i>
          </button>
        </div>
        <div class="collapse " id="collapsesli-home">
          <ul class="list-unstyled ms-3">
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/teaser/"
              >0. 
                <i class="bi bi-unlock-fill"></i>
                 Preamble
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/logic-and-ai/"
              >1. 
                <i class="bi bi-unlock-fill"></i>
                 Logic and AI
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/formal-languages/"
              >2. 
                <i class="bi bi-unlock-fill"></i>
                 Formal languages
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/valid-inference/"
              >3. 
                <i class="bi bi-unlock-fill"></i>
                 Valid inference
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/boolean/"
              >4. 
                <i class="bi bi-unlock-fill"></i>
                 Boolean algebra
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/sat/"
              >5. 
                <i class="bi bi-unlock-fill"></i>
                 Boolean satisfiability
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/conditionals/"
              >6. 
                <i class="bi bi-unlock-fill"></i>
                 Logical conditionals
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/proof/"
              >7. 
                <i class="bi bi-unlock-fill"></i>
                 Logical proofs
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/slides/fol/"
              >8. 
                <i class="bi bi-unlock-fill"></i>
                 FOL
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >9. 
                <i class="bi bi-lock-fill"></i>
                 FOL inference
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >10. 
                <i class="bi bi-lock-fill"></i>
                 Many-valued logics
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >11. 
                <i class="bi bi-lock-fill"></i>
                 Logic and probability
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >12. 
                <i class="bi bi-lock-fill"></i>
                 Logical learning
              </a>
            </li>
            
          </ul>
        </div>
          
      </li>
      
      
      <hr>
      <li class="nav-item">
        <div class="d-flex flex-row">
          <div class="container">
            <a class="nav-link " href="/exercises/"><i class="bi-gear-fill"></i> &nbsp;&nbsp; Exercises</a>
          </div>
          <button 
            class="btn btn-sm btn-dark" 
            href="/exercises/"
            id="navbarSectionexe-home" data-bs-toggle="collapse"
            data-bs-target="#collapseexe-home"  
            aria-expanded="aria-expanded=false"
            aria-controls="collapseexe-home">
            <i class="bi bi-caret-left-fill toggle-icon"></i>
          </button>
        </div>
        <div class="collapse " id="collapseexe-home">
          <ul class="list-unstyled ms-3">
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/preamble/"
              >0. 
                <i class="bi bi-unlock-fill"></i>
                 Preamble
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/logic-and-ai/"
              >1. 
                <i class="bi bi-unlock-fill"></i>
                 Logic and AI
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/formal-languages/"
              >2. 
                <i class="bi bi-unlock-fill"></i>
                 Formal languages
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/valid-inference/"
              >3. 
                <i class="bi bi-unlock-fill"></i>
                 Valid inference
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/boolean/"
              >4. 
                <i class="bi bi-unlock-fill"></i>
                 Boolean algebra
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/sat/"
              >5. 
                <i class="bi bi-unlock-fill"></i>
                 Boolean satisfiability
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/conditionals/"
              >6. 
                <i class="bi bi-unlock-fill"></i>
                 Logical conditionals
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/proof/"
              >7. 
                <i class="bi bi-unlock-fill"></i>
                 Logical proofs
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/exercises/fol/"
              >8. 
                <i class="bi bi-unlock-fill"></i>
                 FOL
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >9. 
                <i class="bi bi-lock-fill"></i>
                 FOL inference
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >10. 
                <i class="bi bi-lock-fill"></i>
                 Many-valued logics
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >11. 
                <i class="bi bi-lock-fill"></i>
                 Logic and probability
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                link-opacity-50
                "
                href="javascript:;"
              >12. 
                <i class="bi bi-lock-fill"></i>
                 Logical learning
              </a>
            </li>
            
          </ul>
        </div>
          
      </li>
      
      
      <hr>
      <li class="nav-item">
        <div class="d-flex flex-row">
          <div class="container">
            <a class="nav-link " href="/assignments/"><i class="bi bi-house-gear-fill"></i> &nbsp;&nbsp; Assignments</a>
          </div>
          <button 
            class="btn btn-sm btn-dark" 
            href="/assignments/"
            id="navbarSectionass-home" data-bs-toggle="collapse"
            data-bs-target="#collapseass-home"  
            aria-expanded="aria-expanded=false"
            aria-controls="collapseass-home">
            <i class="bi bi-caret-left-fill toggle-icon"></i>
          </button>
        </div>
        <div class="collapse " id="collapseass-home">
          <ul class="list-unstyled ms-3">
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/assignments/assignment_1/"
              >1. 
                <i class="bi bi-unlock-fill"></i>
                 Assignment 1 (due 09/19/2025)
              </a>
            </li>
            
            <li>
              <a class="dropdown-item 
                
                
                "
                href="/assignments/assignment_2/"
              >2. 
                <i class="bi bi-unlock-fill"></i>
                 Assignment 2 (due 03/10/2025)
              </a>
            </li>
            
          </ul>
        </div>
          
      </li>
      
      
      
      
      
    </ul>
  </div>
</div>



    <header class="align-self-center d-flex flex-column m-0 mb-md-1 p-0" data-bs-theme="dark">
      <nav class="navbar bg-dark shadow" data-bs-theme="dark" aria-label="header-navbar">
  <div class="container-sm align-self-center px-3">
    <a class="navbar-brand fs-6" href="https://logicalmethods.ai/">
    <img src="https://logicalmethods.ai/img/nav_id.png" class="inert-img img-fluid m-2" draggable="false" width="400px">
    </a>
    <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvas-nav" aria-controls="offcanvas-nav">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
</nav>

      
      
    </header>
    
    <main class="align-self-center d-flex flex-column flex-fill bg-white m-md-1 p-0" data-bs-theme="light">
      <ul class="navbar-nav flex-row justify-content-center mt-2">

  <li class="nav-item">
    <a href="/textbook/" class="btn" style="font-size: 20pt;" tabindex="-1" role="button" aria-disabled="false">
      <i class="bi bi-house-up"></i>
    </a>
  </li>
</ul>
<div class="container chapter">
  <p>By: <em>Johannes Korbmacher</em></p>
  <div class="m-4"><h1 id="logical-proofs">Logical proofs<button class="btn btn-back-to-top">
    
  </button>
</h1>
<hr>

<p>A <em>logical proof</em> is a chaining of inference rules applied to logical formulas,
which models natural language step-by-step reasoning. We&rsquo;ve already seen a
simple example of a proof, when we discussed the chaining methods. The following
structure, for example, is a logical proof that <em>derives</em> <span class="excalifont">RAINBOW</span> from the
assumptions <div class="text-center my-4 excalifont">MORNING, CLEAR, RAIN, MORNING 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 DAY, (CLEAR 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>

DAY)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 SUN, &hellip;</div> <div class="text-center my-4 excalifont">&hellip; (MORNING 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 SUN)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 LOW_SUN,
(RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 LOW_SUN)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAINBOW</div> using just the rule of <abbr title="generalized MP"><a  class="link-underline-opacity-0 link-body-emphasis"> genMP</a></abbr>:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/horn_chaining.png" class="mx-auto rounded d-block inert-img img-fluid"  width="500px"  alt="" >

<p>But the proofs we&rsquo;ve seen so far are rather limited in scope: using genMP, we
can only reason with conditionals where the <abbr title="if-part"><a  class="link-underline-opacity-0 link-body-emphasis"> antecedent</a></abbr> is a conjunction of formulas. We can&rsquo;t
use it, for example, to infer <span class="excalifont">WET</span> from <div class="text-center my-4 excalifont">(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
SWIM) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
WET</div> and <span class="excalifont">RAIN</span>. But clearly that inference is valid: if I get wet if it
rains or I go swimming, and it does rain, then it follows that I do get wet.</p>
<p>Systems for logical proofs, also called <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Proof_calculus"
  target="_blank"><strong>proof
calculi</strong></a>, solve this issue by
introducing principles and inference rules that can handle different kinds of
inferences in one single system. The ultimate theoretical aim is to develop
proof systems, which are
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Completeness_%28logic%29"
  target="_blank"><strong>complete</strong></a> in the sense
that with their rules we can re-construct <em>all</em> valid inferences. Gödel&rsquo;s
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/G%60C3%60B6del%27s_completeness_theorem"
  target="_blank">completeness
theorem</a>—not
to be confused with his <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/G%60C3%60B6del%27s_incompleteness_theorems"
  target="_blank"><em>in</em>completeness
theorem</a>—is
one of the main achievements of 20th century logical theory.</p>
<p>
<img src="https://logicalmethods.ai/textbook/proofs/img/euclid.png" class="rounded  float-start inert-img img-fluid m-2"  width="200px"  alt="" >

Proof systems have their origin in mathematics: <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Euclid%27s_Elements"
  target="_blank">Euclid&rsquo;s
<em>Elements</em></a> is often credited
with making rigorous proof the primary method of mathematical research.
Especially since the 19th century, mathematicians have been paying special
attention to proof systems in the context of the <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Foundations_of_mathematics"
  target="_blank">foundations of
mathematics</a>, where
their study is aimed at solving issues concerning the very nature of
mathematical thought. This is the birth of <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Mathematical_logic"
  target="_blank">mathematical
logic</a>, which is the
sub-discipline of logic that has gifted us results like Gödel&rsquo;s <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/G%60C3%60B6del%27s_incompleteness_theorems"
  target="_blank">incompleteness
theorems</a>
and theories like <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Set_theory"
  target="_blank">set theory</a>, which
is ubiquitous in mathematics and the sciences.</p>
<p>
<img src="https://logicalmethods.ai/textbook/proofs/img/ai_goedel.png" class="rounded  float-end inert-img img-fluid m-2"  width="150px"  alt="" >

But the use of proof systems has long transcended the realm of pure mathematics.
Soon after they became the focus of logical attention, the relevance of proof
systems to the theory of computation was discovered, leading to observations
like the <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Curry%60E2%6080%93Howard_correspondence"
  target="_blank">Curry-Howard
correspondence</a>,
which establishes a direct relationship between logical proofs and computer
programs. As such, the study of logical proofs is also part of the foundations
of computer science. But also in AI-research specifically, applications abound.</p>
<p>There are, for example, applications that are perhaps best described as
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Intelligence_amplification"
  target="_blank">intelligence amplification
(IA)</a> rather than
artificial intelligence (AI), even though the lines are a bit blurry here. The
idea is that since logical proofs are rigorously defined mathematical models of
natural language inference, we can use computational implementations of proof
systems to check or <strong>verify</strong> our natural language inferences. This is the idea
underlying <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Proof_assistant"
  target="_blank">proof assistants</a>,
which can guide and correct the process of developing logically valid proofs. In
this chapter, you&rsquo;ll learn about <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://lean-lang.org/"
  target="_blank">Lean</a>, which is one
powerful example of such a proof assistant. 
<img src="https://logicalmethods.ai/textbook/proofs/img/jimmy_pi.png" class="rounded  float-end inert-img img-fluid m-2"  width="250px"  alt="" >
</p>
<p>Since proof assistants interface with their users in formal languages and <abbr title="generative AI"><a  class="link-underline-opacity-0 link-body-emphasis"> genAI</a></abbr>-systems, such as ChatGPT, Gemini,
Claude, LLama, et al., are very good at learning formal languages, <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Hybrid_intelligent_system"
  target="_blank">hybrid AI
systems</a> using an
architecture involving <abbr title="large language models"><a  class="link-underline-opacity-0 link-body-emphasis"> LLM's</a></abbr> together with proof assistants have yielded promising results in
&ldquo;artificial mathematics&rdquo;—the project of developing human or super human-level
AI-systems for logical and mathematical reasoning.</p>
<p>In fact, proof systems are the playground for a certain kind of <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Automated_theorem_proving"
  target="_blank">automated
theorem prover (ATP)</a>.
State of the art ATP&rsquo;s often use methods we&rsquo;ve already discussed, such as
resolution or <code class="customCode">SAT</code>-solving. But there are also ATP&rsquo;s which are expert systems
for <strong>proof search</strong>, i.e. the activity of searching through logical proofs in
well-designed proof systems, using knowledge bases that contain expert knowledge
on logical proofs. An example of this approach is
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://github.com/theoremprover-museum/muscadet"
  target="_blank">MUSCADET</a>.</p>
<p>Today, these kind of expert system architectures are virtually extinct in
ATP-contexts, but there&rsquo;s an intriguing way of thinking about what&rsquo;s going on in
genAI-research on mathematical proofs in terms of proof search: effectively,
LLM-based theorem provers are reasoning <em>inductively</em> about proofs, rather than
deductively, like expert systems. But before we can go into more details, we
need to better understand how logical proofs work in their standard
applications.</p>
<p>At the end of this chapter, you will be able to:</p>
<ul>
<li>explain the concept of a formal proof in a calculus</li>
<li>name important kinds of proof systems with their advantages and drawbacks</li>
<li>construct logical proofs  the natural deduction calculus for intuitionistic
and classical propositional logic</li>
<li>verify simple natural deduction arguments in the Lean proof assistant</li>
<li>explain the core idea behind the Curry-Howard correspondence</li>
</ul>
<h2 id="proof-systems">Proof systems<button class="btn btn-back-to-top">
    
    <i class="bi bi-chevron-double-up"></i>
    
  </button>
</h2>
<hr>

<p>Over the years, logical research generated <em>many</em> different kinds of proof
systems. For the purposes of AI-research, you don&rsquo;t need to know the ins and
outs of all these different systems. But it is useful to have an overview of the
most important kind of systems and their different use-cases. We&rsquo;ll begin by
reviewing the following important families of proof systems, highlighting their
specific uses for AI purposes:</p>
<ol>
<li>Axiomatic proof systems, such as <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Hilbert_system"
  target="_blank">Hilbert systems</a>.</li>
<li>Structural proof systems, such as <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Sequent_calculus"
  target="_blank">sequent calculi</a>.</li>
<li>Algorithmic proof systems, such as <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Method_of_analytic_tableaux"
  target="_blank">tableaux</a>-systems and <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Resolution_%28logic%29"
  target="_blank">resolution</a>-style systems.</li>
</ol>
<p>Then we&rsquo;ll do a deep dive into a particularly import kind of proof system, which
is both useful for practical reasoning with logical formulas and for AI
applications, which are:</p>
<ol start="4">
<li>Natural deduction systems</li>
</ol>
<p>As a running example for ours discussion, let&rsquo;s consider the following inference
in natural language, carried out by <span class="code" style="margin-right:-4px;vertical-align: text-top;transform-origin: 50%  50%;transform:rotate(180deg);display:inline-block">IA</span>
:</p>
<div class="text-center my-4 excalifont">
<img src="https://logicalmethods.ai/textbook/proofs/img/ai_nuclear.png" class="rounded  float-end inert-img img-fluid m-2"  width="300px"  alt="" >

If it's windy or rainy, then I get cold, and if I get cold, I need my heating unit. I see that it's rainy. So, I need my heating unit.</div>
<p>The first step whenever we want to do anything using logical methods in natural
language contexts is to represent the inference in a formal language using our
by now familiar knowledge representation techniques. For the premises, we get:</p>
<div class="text-center my-4 excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD)&emsp; (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING)&emsp; RAIN</div>
<p>The conclusion is simply: <span class="excalifont">HEATING.</span></p>
<p>So, the entire formal inference, therefore, becomes:</p>
<div class="text-center my-4 excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD), (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING), RAIN 
<img src="/img/therefore.png" alt="Therefore" class="inline-icon" style="height:1em;width:auto;"/>
HEATING</div>
<p>Using our established methods, such as truth-tables or resolution, we can see
that this inference is deductively valid:</p>
<div class="text-center my-4 excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD), (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING), RAIN 
<img src="/img/vDash.png" alt="vDash" class="inline-icon" style="height:1em;width:auto;"/>
HEATING</div>
<p>But in this chapter, we&rsquo;re interested in a different perspective on the
inference, namely how we can see its validity via step-by-step arguments. That&rsquo;s
what proof systems are for.</p>
<p>To say that there exists a formal, step-by-step argument from the premises to
the conclusion, we use the symbol 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
, called the &ldquo;turnstile&rdquo;. So, in
our example, we would write</p>
<div class="text-center my-4 excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD), (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING), RAIN 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
HEATING</div>
<p>to say that there exists a step-by-step argument—a <em>logical proof</em>—from the
premises to the conclusion.</p>
<p>It&rsquo;s important to realize that the symbols 
<img src="/img/vDash.png" alt="vDash" class="inline-icon" style="height:1em;width:auto;"/>
 and 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
 say
different things: the former, 
<img src="/img/vDash.png" alt="vDash" class="inline-icon" style="height:1em;width:auto;"/>
, says that an inference is valid;
the latter, 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
 says that there exists a logical proof from the
premises to the conclusion. We <em>want</em> the two to coincide, and in most systems
they do. This is the content of the
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Soundness"
  target="_blank">soundness</a> and
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Completeness_%28logic%29"
  target="_blank">completeness</a> theorems for
a logic, which state that for all inferences:</p>
<div class="text-center my-4 excalifont">P₁, P₂, … 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
 C &emsp; if and only if P₁, P₂, … 
<img src="/img/vDash.png" alt="vDash" class="inline-icon" style="height:1em;width:auto;"/>
 C</div>
<p>Most logical systems you&rsquo;ll come across in AI-application have this property,
especially when we&rsquo;re dealing with basic systems for classical propositional
logic, like below. But it&rsquo;s also important to know that there <em>are</em> logical
systems where no complete proof system exists—where not for every valid
inference there exists a step-by-step proof. An example is <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Second-order_logic"
  target="_blank">second-order
logic</a>.</p>
<p>Returning to our main topic, different proof systems have different ways of
showing that:</p>
<div class="text-center my-4 excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD), (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING), RAIN 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
HEATING.</div>
<p>Let&rsquo;s check out how.</p>
<h2 id="axiomatic-systems">Axiomatic systems<button class="btn btn-back-to-top">
    
    <i class="bi bi-chevron-double-up"></i>
    
  </button>
</h2>
<hr>

<p><i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Axiomatic_system"
  target="_blank">Axiomatic systems</a> are modelled
after the approach of Euclid&rsquo;s elements, which starts from basic laws or
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Axiom"
  target="_blank"><em>axioms</em></a> and constructs logical proofs by
deriving consequences using simple inference rules. In logical theory, axiomatic
systems are typically called <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Hilbert_system"
  target="_blank"><strong>Hilbert
system</strong></a>.</p>
<p>Here&rsquo;s how a logical proof for our inference would like in a Hilbert system for
propositional logic:</p>
<ol>
<li><span class="excalifont">RAIN</span> <span class="right-justified">(Premise)</span></li>
<li><span class="excalifont">(RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND))</span> <span class="right-justified">(Axiom)</span></li>
<li><span class="excalifont">(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)</span> <span class="right-justified">(1., 2., MP)</span></li>
<li><span class="excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD)</span>  <span class="right-justified">(Premise)</span></li>
<li><span class="excalifont">COLD</span> <span class="right-justified">(3., 4., MP)</span></li>
<li><span class="excalifont">(COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 HEATING)</span>  <span class="right-justified">(Premise)</span></li>
<li><span class="excalifont">HEATING</span> <span class="right-justified">(5., 6., MP)</span></li>
</ol>
<p>Only one rule of inference is used in this derivation, namely MP, which is
characteristic of Hilbert calculi. Typically Hilbert calculi have only one or
two rules of inference and rely on the axioms to do the &ldquo;heavy lifting&rdquo;.</p>
<p>The only axiom in this derivation is 2. <span class="excalifont">(RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>

WIND))</span>, which expresses the thought that if one disjunct is true the
disjunction is true as well. The axioms of a Hilbert calculus for propositional
logic are <strong>logical truths</strong>, that is formulas which are true in every model.
The challenge when formulating a Hilbert calculus is to find a collection of
logical truths of the logic, which allow for the derivation of all valid
consequences. We&rsquo;ve already encountered this idea Boolean algebra, where we
looked at how to derive Boolean laws from others.</p>
<p>Here&rsquo;s a list of axioms, which together with the rule of MP form a sound and
complete Hilbert calculus for classical Boolean logic, where <span class="excalifont">A,B,C</span> can be any
formula:</p>
<ul>
<li><span class="excalifont">(A 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
(B 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 A))</span></li>
<li><span class="excalifont">((A 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (B 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 C)) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
((A
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
B)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
(A 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 C)))</span></li>
<li><span class="excalifont">((
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
B 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>

<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
A)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
(A 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
B))</span></li>
<li><span class="excalifont">((A 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 B)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 A)</span> and <span class="excalifont">((A 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 B)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 B)</span></li>
<li><span class="excalifont">(A 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
(B 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (A
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 B))</span></li>
<li><span class="excalifont">(A 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
(A
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 B))</span> and <span class="excalifont">(B 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
(A
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 B))</span></li>
<li><span class="excalifont">((A 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
C)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
((B
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
C)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
((A
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
B)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 C)))</span></li>
</ul>
<p>That is for all and only the valid inferences, we can derive the conclusion from
the premises in this calculus.</p>
<p>As you can see in this example, Hilbert calculi are typically quite &ldquo;compact&rdquo;.
They manage to compress a lot of logical information into a few basic axioms and
a couple of inference rules.</p>
<p>
<img src="https://logicalmethods.ai/textbook/proofs/img/ai_panic.png" class="rounded  float-end inert-img img-fluid m-2"  width="150px"  alt="" >

While this is certainly memory efficient, it is <em>terrible</em> for automated
reasoning. Proofs in Hilbert calculi are typically quite hard to find and can
get unreasonably long.</p>
<p>Here&rsquo;s an example to illustrate both points, by showing that the condition</p>
<div class="text-center my-4 excalifont">RAIN
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
RAIN</div> is derivable from no assumptions in this calculus. The
conditional is, of course, a logical truth: if it rains, then it rains. This
should be easy to see work. But see for yourself:
<p> 
 
 
 
 </p>
<ol>
<li>
<p><span class="excalifont">((RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 ((RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN)) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 ((RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN)) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN)))</span></p>
<p>  <span class="right-justified">(Axiom 2. with <span class="excalifont">A = RAIN, B = (RAIN
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN),</span> and <span class="excalifont">C = RAIN</span>)</span></p>
</li>
<li>
<p><span class="excalifont">(RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 ((RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN))</span></p>
<p>  <span class="right-justified"> (Axiom 1. with <span class="excalifont">A = RAIN</span> and <span class="excalifont">B = (RAIN
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN)</span>)</span></p>
</li>
<li>
<p><span class="excalifont">((RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN)) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN))</span></p>
<p>  <span class="right-justified"> (1., 2., MP)</span></p>
</li>
<li>
<p><span class="excalifont">(RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN))</span></p>
<p>  <span class="right-justified"> (Axiom 1. with <span class="excalifont">A = RAIN</span> and <span class="excalifont">B = RAIN</span>.)</span></p>
</li>
<li>
<p><span class="excalifont">(RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN)</span></p>
<p>  <span class="right-justified"> (3., 4., MP)</span></p>
</li>
</ol>
<p> </p>
<p>While providing Hilbert-style logical proofs is certainly a learnable skill, it
is not an easy thing to do—not even for computers. To find the above proof in an
algorithmic fashion, one has to systematically search through <em>all</em> possible
values that <span class="excalifont">A,B,C</span> could take in the axioms. Not a good starting point.</p>
<p>Hilbert calculi are a common starting point for logical inquiry in AI. For
example, proof systems for <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Modal_logic"
  target="_blank">modal
logics</a>, which are very important in
more complex hardware and software verification settings, are typically
presented Hilbert-style. The computationally more tractable approaches to proof
systems that we look at next don&rsquo;t work for some logics. Instead, Hilbert
systems are the &ldquo;tried and true&rdquo; go-to method, which often yields the desired
results.</p>
<h2 id="sequent-calculi">Sequent calculi<button class="btn btn-back-to-top">
    
    <i class="bi bi-chevron-double-up"></i>
    
  </button>
</h2>
<hr>

<p>Sequent calculi take a fundamentally different approach to logical proofs.
Rather than directly working with formulas, they work with so-called
<strong>sequents</strong>. Sequents are &ldquo;meta&rdquo;-statements of sorts, which are formal claims
of valid inference using the <em>sequent arrow</em>, 
<img src="/img/longrightarrow.png" alt="Long Rightarrow" class="inline-icon" style="height:1em;width:auto;"/>
. For our
example, then, the aim is to derive the following sequent:</p>
<div class="text-center my-4 excalifont">RAIN, ((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD), (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING) 
<img src="/img/longrightarrow.png" alt="Long Rightarrow" class="inline-icon" style="height:1em;width:auto;"/>
HEATING.</div>
<p>Such a derivation will then be the proof corresponding to the claim that:</p>
<div class="text-center my-4 excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD), (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING), RAIN 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
HEATING</div> 
<p>Here&rsquo;s how this works in a standard sequent calculus for classical propositional
logic would derive this sequent:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/sequent_derivation.png" class="mx-auto rounded d-block inert-img img-fluid"  width="800px"  alt="" >

<p>The derivation begins with <span class="excalifont">RAIN 
<img src="/img/longrightarrow.png" alt="Long Rightarrow" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN</span>, which is called an &ldquo;initial
sequent&rdquo;—essentially an <em>axiom</em> of sequent calculus. These initial sequents
express the basic logical fact that every statement logically entails itself: if
it rains, then it rains. We could also think of this as a <em>trivial</em> inference.</p>
<p>From these kind of basic inferences, the sequent calculus proof constructs more
complex sequents from the simple ones by applying <strong>sequent rules</strong>. For
example, the inference from <span class="excalifont">RAIN 
<img src="/img/longrightarrow.png" alt="Long Rightarrow" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN</span> to
<span class="excalifont">RAIN 
<img src="/img/longrightarrow.png" alt="Long Rightarrow" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)</span> uses the rule
<span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
R</span>, which in general looks like this, where <span class="excalifont">Γ</span> is any collection of
premises and <span class="excalifont">A,B</span> any formulas:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/lor_right.png" class="mx-auto rounded d-block inert-img img-fluid"  width="300px"  alt="" >

<p>The idea of this rule is that if the <span class="excalifont">Γ</span>&rsquo;s logically imply <span class="excalifont">A</span>, then they also
logically imply <span class="excalifont">(A
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
B)</span>, since <span class="excalifont">A</span> implies <span class="excalifont">(A
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
B)</span>.</p>
<p>There are many different ways of constructing a sequent calculus for classical
propositional logic, but one is this:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/sequent_calculus.png" class="mx-auto rounded d-block inert-img img-fluid"  width="800px"  alt="" >

<p>As you can see, there are a lot of rules here. For each logical connective there
are rules that introduce the connective on the left side of 
<img src="/img/longrightarrow.png" alt="Long Rightarrow" class="inline-icon" style="height:1em;width:auto;"/>

(here in <span class="dark-red">red</span>) and rules that introduce the
connective on the right side of 
<img src="/img/longrightarrow.png" alt="Long Rightarrow" class="inline-icon" style="height:1em;width:auto;"/>
 (here in <span
class="dark-green">green</span>). The so-called &ldquo;left-rules&rdquo; for a connective
tell us what follows from a formula involving the connective based on the
consequences of the formulas the connective is operating on. The &ldquo;right-rules&rdquo;
for a connective, instead, tell us what a formula involving the connective
follows from given what it&rsquo;s parts follow from.</p>
<p>The symbol 
<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
, which occurs in the rules for negation, for example, is
a special &ldquo;contradiction&rdquo;-symbol, which is also called <strong>falsum</strong>. It is a
special propositional variable which is false in every model. It is extremely
useful in proof-theoretic contexts, where <span class="excalifont">Γ, A 
<img src="/img/longrightarrow.png" alt="Long Rightarrow" class="inline-icon" style="height:1em;width:auto;"/>
 
 <img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
</span>
says that we can derive a contradiction from <span class="excalifont">A</span> and <span class="excalifont">Γ</span>. From this we infer
that the formulas in <span class="excalifont">Γ</span> must entail <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
A</span>.</p>
<p>Additionally, there are principles that express basic logical facts (here in
<span class="dark-orange">orange</span>), and so-called &ldquo;structural&rdquo; rules,
which don&rsquo;t involve any connectives at all (here in <span
class="dark-blue">blue</span>). So in contrast to Hilbert calculi, which have
many axioms and few rules, in sequent calculi, we have few axioms and many
rules. But these rules serve a specific purpose.</p>
<p>Together these rules allow us to recursively construct complex implications from
simpler ones, as in the case of our example. In this way, sequent calculus
proofs give us insights into how different valid inferences hang together or
interact. This observation is the starting point for <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Structural_proof_theory"
  target="_blank">structural proof
theory</a>, which
investigates how alternative formulations of the sequent calculus rules can help
us better understand the nature of deductively valid inference.</p>
<p>From this perspective, the role of sequent calculi in logical research is
primarily foundational. In fact, sequent calculi have been instrumental in the
obtaining of fundamental results in mathematical logic, such as <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Gentzen%27s_consistency_proof"
  target="_blank">Gentzen&rsquo;s
consistency proof</a>
for the standard theory of natural numbers, which shows that you can&rsquo;t prove in
that theory mathematical falsehoods like <span class="excalifont">0 = 1</span>.</p>
<p>In the context of AI-research, you will therefore mainly come across sequent
calculi in foundational papers. But they are also useful for another reason: in
contrast to Hilbert calculi, in sequent calculi, we can typically carry out
efficient <strong>proof searches</strong>. The way this works is that from any sequent we&rsquo;d
like to prove, we can try to work <em>backwards</em> through the rules until we,
hopefully, hit initial sequents. How well such proof searches work depends a lot
on the concrete formulation of the calculus in question. But we shall not go
into too much depth here, as the algorithmic systems we&rsquo;ll move to next are more
robust implementations of this idea.</p>
<h2 id="algorithmic-systems">Algorithmic systems<button class="btn btn-back-to-top">
    
    <i class="bi bi-chevron-double-up"></i>
    
  </button>
</h2>
<hr>

<p>There are many different kinds of algorithmic systems, but many of them are
<code class="customCode">SAT</code>-based. That is, they are build on the idea we discussed before that we can
reduce valid inference to the unsatisfiability of the premises with the negation
of the conclusion:</p>
<div class="text-center my-4 excalifont">P₁, P₂, … 
<img src="/img/vDash.png" alt="vDash" class="inline-icon" style="height:1em;width:auto;"/>
 C &emsp; if and only if <code class="customCode"> <span class="dark-red">not SAT</span></code> { P₁, P₂, … ,
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
C}</div>
<p>The <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Method_of_analytic_tableaux"
  target="_blank">analytic tableau
method</a> works by
recursively unfolding formulas according to their truth-conditions, producing a
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Tree_%28graph_theory%29"
  target="_blank">tree</a>-representation of the
possible ways those conditions might be satisfied.  A <strong>tree</strong> in the
mathematical sense is simply a structure of the following kind:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/tree.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>The circles are called <strong>nodes</strong>, the top-most node is the <strong>root</strong> (here in
<span class="dark-red">red</span>), the outermost nodes are <strong>leaves</strong> (here in
<span class="dark-blue">blue</span>), and a way of getting from the root to a
leave is called a path (like the <span class="dark-green">green</span> path from
the root to the right-most leaf). It&rsquo;s a defining characteristic of trees in the
mathematical sense that there&rsquo;s a unique path from the root to every leaf. By
the way, our parsing trees from syntax-theory are also trees in this
precise mathematical sense.</p>
<p>In a tableaux, the nodes are populated with formulas and each branch corresponds
to a different way in which the formulas at the root could be true. Here&rsquo;s how
this looks like in our example inference:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/tableau_derivation.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>What&rsquo;s going on here is that the we start with the premises and negation of the
conclusion of our inference and then recursively unfold the truth-conditions for
the formulas involved. For example, the first &ldquo;branching&rdquo; to the formulas <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)</span> and <span class="excalifont">COLD</span> unfolds the two ways in which the
conditional <span class="excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD)</span> could be true. By our
Boolean implementation of 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
, we have: <div class="text-center my-4 excalifont">v(((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD)) = (<span class="Boolean">NOT</span> v(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)) <span class="Boolean">OR</span> v(COLD)</div> If we set
this equation to <code class="customCode">1</code> (i.e. <em>true</em>), we can see that the there are only two
possibilities, either <span class="excalifont"><span class="Boolean">NOT</span> v(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) = 1</span>  or <span class="excalifont">v(COLD)</span>. And
since <span class="excalifont"><span class="Boolean">NOT</span> v(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) = 1</span> is the same as <span class="excalifont">v(
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
(RAIN

<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)) = 1</span>, the two branches in our tree represent the two <em>a
priori</em> possible ways the formula <span class="excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD)</span>
could be true.</p>
<p>In a similar fashion, <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
(WIND 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN)</span> gets unfolded to <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
RAIN</span> and <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
WIND</span>. If we assume that</p>
<div class="text-center my-4 excalifont">v(
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)) = <span class="Boolean">NOT</span>(v(RAIN) <span class="Boolean">OR</span> v(WIND)) = 1,</div>
we can "solve" for <span class="excalifont">v(RAIN)</span> and <span class="excalifont">v(WIND)</span> and see that they both need to be
<code class="customCode">0</code>, which in turn means that <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
RAIN</span> and <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
WIND</span> both are
<code class="customCode">1</code>.
<p>All the other tableau rules are motivated by completely analogous arguments.
Here is a complete set for classical propositional logic:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/tableau.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>To generate a tableau, one simply recursively applies these rules by extending
every branch that passes through the formula according to the rule.</p>
<p>If a branch contains a contradiction, it is eliminated—<em>closed off</em> as we say.
If this happens to every branch in a complete tableau, like in our example, we
consider this the proof that the formulas at the root aren&rsquo;t jointly
satisfiable—which means that the inference in question is valid. That is, the
tableaux above is the logical proof that:</p>
<div class="text-center my-4 excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD), (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING), RAIN 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
HEATING.</div>
<p>If there are branches that don&rsquo;t close off, this shows that there exists a
countermodel to the inference in question. Here&rsquo;s a case where this happens,
which shows that</p>
<div class="text-center my-4 excalifont">((RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD), (COLD 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING), SUN 
<img src="/img/nv_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
HEATING.</div>

<img src="https://logicalmethods.ai/textbook/proofs/img/tableau_invalid.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>All rules have been applied and some branches close off. But the left-most one
(here indicated in <span class="green">green</span>) remains &ldquo;open&rdquo;. A great
advantage of the tableau-method is that we can directly &ldquo;read off&rdquo; a
countermodel from it. Here, the corresponding countermodel is given by</p>
<div class="text-center my-4 excalifont">v(COLD) = 0, v(WIND) = 0, v(RAIN) = 0</div>
It's easy to check that all the formulas on the green branch are true, and so
the inference in question is invalid.
<p>What makes tableau particularly fruitful for AI-research is their algorithmic
nature: they are effectively an algorithm for countermodel search. Moreover,
they can easily be made more efficient, for example, by checking for
contradictions after each rule application, to eliminate branches early.
Tableau systems that are optimized in this way are the basis for many <abbr title="automated theorem prover"><a  class="link-underline-opacity-0 link-body-emphasis"> ATP</a></abbr>-applications.</p>
<p>The main drawback of tableau is that they are essentially <code class="customCode">SAT</code>-solving
algorithms in disguise. As a consequence, they are not very &ldquo;natural&rdquo; in the
sense that it can sometimes be hard to see what&rsquo;s going on in a given tableaux
and it&rsquo;s not straight-forward to go back and forth between natural language
arguments and tableau proofs—they are simply not a great model of natural
language step-by-step inference. This makes them less useful for use in proof
assistants, for example, which are supposed to be formalized augmented
intelligence systems that can help us verify our natural language inferences
each step along the way.</p>
<h2 id="natural-deduction">Natural deduction<button class="btn btn-back-to-top">
    
    <i class="bi bi-chevron-double-up"></i>
    
  </button>
</h2>
<hr>

<p>The system of <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Natural_deduction"
  target="_blank">natural
deduction</a> was specifically
developed with rigorous natural language inference as a target in mind. The
system has no axioms, only inference rules. The idea is that each inference rule
corresponds to a basic natural language inference involving the connectives.
Here&rsquo;s how this plays out for our running example:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/natural_deduction_derivation.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>What&rsquo;s going on here is that our premises are <strong>assumptions</strong> in a proof
tree, where we apply inference rules to derive conclusions until we eventually
bottom-out at our desired conclusion. There are rules that introduce
connectives, like <span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 Intro</span>, which we use to infer
<span class="excalifont">(RAIN
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND)</span> from <span class="excalifont">RAIN</span>. Then there are rules like <span class="excalifont">
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
Elim</span>,
which eliminate connectives from the derivation. Here, for example, we use it to
infer <span class="excalifont">COLD</span> from <span class="excalifont">RAIN
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND</span> and <span class="excalifont">(RAIN
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>

COLD)</span>—which is essentially just MP, I&rsquo;m sure you noticed.</p>
<p>In the standard natural deduction calculus for classical propositional logic,
each connective has two corresponding kinds of rules, its <strong>introduction rules</strong>
and its <strong>elimination rules</strong>. Here they are:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/natural_deduction_rules.png" class="mx-auto rounded d-block inert-img img-fluid"  width="800px"  alt="" >

<p>Some of these rules require a bit more explanation. Take the rule <span class="excalifont">
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
Introduction</span>,
for example. This rule has corner brackets around its premise, <span class="excalifont">[A]</span>. What this
means is that the assumption <span class="excalifont">A</span> is <strong>discharged</strong> in the application of
<span class="excalifont">
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
Introduction</span>—after the application of the rule, <span class="excalifont">A</span> no longer counts
among the assumptions of the proof.</p>
<p>Applying this rule, we can for example reason as follows:

<img src="https://logicalmethods.ai/textbook/proofs/img/or_intro_axiom.png" class="mx-auto rounded d-block inert-img img-fluid"  width="300px"  alt="" >
</p>
<p>We assume that it rains. From this we infer that it&rsquo;s rainy or windy. So, even
without the assumption, we know that <em>if</em> it rains, then it&rsquo;s rainy or windy. In
other words, what this derivation establishes is that <span class="excalifont">(RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND))</span> can be derived <em>without any assumptions</em>: <div class="text-center my-4 excalifont">
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
(RAIN

<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND))</div> Maybe you remember from before that this was
an <em>axiom</em> of Hilbert&rsquo;s axiomatization of propositional logic, which we used in
our Hilbert-style derivation for our example inference. It turns out that in a
similar way, all the axioms of Hilbert&rsquo;s calculus can be derived without any
assumptions. This is a sense in which they are <em>logical laws</em>.</p>
<p>In rules like <span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
Elim</span>, this hypothetical reasoning with discharging
assumptions is taken to the next level. This rule captures <strong>case-by-case
reasoning</strong>, which we can use, for example, to show the validity of our previous
example for disjunctive syllogism in natural deduction:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/disjunction_elimination.png" class="mx-auto rounded d-block inert-img img-fluid"  width="600px"  alt="" >

<p>What&rsquo;s going on here is that we assume both <span class="excalifont">(SUN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
RAIN)</span> and <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
 SUN</span>.
We know that the disjunction means that there are two possible cases, either
<span class="excalifont">SUN</span> or <span class="excalifont">RAIN</span>, so we think both through. We assume sun in addition to our
other assumptions, and note that we got a contradiction with our other
assumption <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
SUN</span>, which yields <span class="excalifont">
<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
</span>. From this, we can use
the <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Principle_of_explosion"
  target="_blank">principle of
explosion</a>, which we&rsquo;ve
captured in the rule <span class="excalifont">Ex falso</span> to infer that <span class="excalifont">RAINS</span>. That leaves only the
other possible case. If we assume that it rains, it rains, so we can discharge
the assumption directly. We infer that it must be raining. This proof shows that</p>
<div class="text-center my-4 excalifont">(SUN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
RAIN), 
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
 SUN 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN</div>
<p>The rules <span class="excalifont">Ex falso</span> and <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>

<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
</span> deserve special attention
since they capture logical laws that are only valid in very specific logical
contexts or systems. The principle of explosion, which we&rsquo;ve just used to proof disjunctive
syllogism, for example, is valid in Boolean logic. Here, we can derive the falsum 
<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
 from any contradiction, like <span class="excalifont">SUN</span> and <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
SUN</span>. This is because
<span class="excalifont">SUN</span> cannot both be true and false at the same time. But that means that if we
assume that it is, we get 
<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
 and &ldquo;anything goes&rdquo;, so if both <span class="excalifont">SUN</span> and
<span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
SUN</span>, then <span class="excalifont">RAIN</span>.</p>
<p>Or think about it the other way around. The only way for the inference from
<span class="excalifont">SUN</span> and <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
SUN</span> to <span class="excalifont">RAIN</span> be <em>in</em>valid is for both <span class="excalifont">SUN</span> and
<span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
SUN</span> to be <code class="customCode">1</code>, while <span class="excalifont">RAIN</span> is <code class="customCode">0</code>. But in Boolean logic that&rsquo;s
excluded. So the inference must be valid.—If we move to a <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Paraconsistent_logic"
  target="_blank">paraconsistent
logic</a>, however, where statements can
be both true and false at the same time, things change. Such logics are very
important when combining potentially contradictory information from different
databases, but that&rsquo;s a story for later on.</p>
<p>The case of 
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>

<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
 is equally fraught with logical and
philosophical issues, but suffice it to say here, that it is required to derive
<span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>

<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
RAIN 
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
 RAIN</span>. This principle fails, for
example, in <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Intuitionistic_logic"
  target="_blank">intuistionistic
logic</a>, which is of
paramount importance in the foundations of computation. We won&rsquo;t be able to go
into the full details here, but we&rsquo;ll see that these special rules play an
important role, for example, when we move to proof assistants.</p>
<p>There&rsquo;s one more stumbling block for natural deduction, which is worth
mentioning. Though perhaps strange, the following is a valid derivation in
natural deduction:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/vacuous_discharge.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>What&rsquo;s going on here is that in the first application of <span class="excalifont">
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 Intro</span>,
the assumption <span class="excalifont">WIND</span> is discharged even though it&rsquo;s not written down anywhere.
This is called <strong>vacuous discharge</strong> and without it, we couldn&rsquo;t prove laws
like the one from the derivation, which is one of Hilbert&rsquo;s axioms. The
assumption <span class="excalifont">RAIN</span>, then, can be discharged as normal.</p>
<p>It&rsquo;s also worth pointing out that are actually many different
notational system for natural deduction: we use the
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Natural_deduction#Gentzen-style_propositional_logic"
  target="_blank">Genzten-Prawitz-style</a>,
but there are also
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Fitch_notation"
  target="_blank">Fitch-notation</a>, <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Suppes%60E2%6080%93Lemmon_notation"
  target="_blank">Suppes-Lemmon
notation</a>, and
many others.</p>
<p>As we said, natural deduction attempts to model the most basic, small-step
inferences we make in natural language reasoning. At the same time, as any math
student can attest, making good small-step inferences is hard work—even in
natural language. So, it should come as no surprise that learning to make
correct natural deduction inferences for is hard work. And unfortunately,
there&rsquo;s no shortcut around just trying one&rsquo;s hand at this. Luckily, there are
tools that allow us to check our own work: these are the proof assistants we&rsquo;ve
mentioned before and will talk about next.</p>
<h2 id="proof-assistants-lean">Proof assistants: Lean<button class="btn btn-back-to-top">
    
    <i class="bi bi-chevron-double-up"></i>
    
  </button>
</h2>
<hr>

<p>A <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Proof_assistant"
  target="_blank">proof assistant</a> is a piece of
software that helps develop logical proofs in a kind of human-machine
collaboration. The idea is that to interact with a proof assistant, we write
down our proofs in a specialized formal language, which the proof assistant can easily
parse and then check for formal reasoning mistakes—that is, check whether we&rsquo;ve
applied the rules and conditions for logical proofs correctly. This is a
paradigm case of <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Intelligence_amplification"
  target="_blank">intelligence amplification
(IA)</a>, where we
&ldquo;outsource&rdquo; the verification of our arguments to a specialized computer program.</p>
<p>What might seem like a very dry and nitpicky activity at first, turns out to be
an incredibly helpful and powerful logical tool for research in disciplines that
rely heavily on the correctness of mathematical arguments, such as pure and
applied math, physics, economics, and others. While trained mathematicians are
experts at giving logical proofs, mistakes do happen. Mathematicians are human
after all. To find these mistakes is the aim of <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Peer_review"
  target="_blank">peer
review</a>, but the more advanced the
work, the fewer peers there are. When it comes to cutting-edge research
mathematics, it&rsquo;s not at all uncommon that there are only a handful of people
in the world who fully grasp the arguments of a research paper.</p>
<p>As a result, there are often only few people who can spot mistakes. And these
are typically people that do similar work as the author, and so are more likely
to &ldquo;think just like them&rdquo;—and as a consequence make the same kind of mistakes.
This is an in principle problem when we&rsquo;re working with fallible reviewers in
highly-specialized disciplines like mathematics. Proof assistants can help
mitigate these issues. In fact, there are several <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://nautil.us/in-mathematics-mistakes-arent-what-they-used-to-be-235407/"
  target="_blank">high-profile
cases</a>,
where proof assistants both helped spot and fix errors in the work of <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Fields_Medal"
  target="_blank">Fields
medalists</a> and other high-profile
mathematicians.</p>
<p><i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Terence_Tao"
  target="_blank">Terence Tao</a> has <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://terrytao.wordpress.com/2024/09/25/a-pilot-project-in-universal-algebra-to-explore-new-ways-to-collaborate-and-use-machine-assistance/"
  target="_blank">recently
argued</a>
that the added certainty that a verification by a proof assistant adds is a
great boon for mathematical collaboration, since you no longer need to
carefully check all the proofs of your potential collaborators—the computer
does that for you. This opens up the possibility of new kinds of collaboration.</p>
<p>
<img src="https://logicalmethods.ai/textbook/proofs/img/ai_clippy.png" class="rounded  float-start inert-img img-fluid m-2"  width="200px"  alt="" >

At the same time, way that proof assistants interface with natural language
proofs is very adaptable to the way that
<abbr title="large language models"><a  class="link-underline-opacity-0 link-body-emphasis"> LLMs</a></abbr> treat texts.
This opens up the possibility of GenAI-technologies, like ChatGPT, Claude,
Gemini, and others, using proof assistants to formulate and verify their
reasoning. The potential for applications of this observation in machine
learning and practice are endless. What we see in practice already is that
AI-tools like <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/GitHub_Copilot"
  target="_blank">GitHub Copilot</a> can
complete some simple mathematical arguments while they are being typed in
<span class="excalifont">LaTeX</span> source code by an author.</p>
<p>There are many proof assistants out there, such as
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Agda_%28programming_language%29"
  target="_blank">Agda</a>,
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Isabelle_%28proof_assistant%29"
  target="_blank">Isabelle/HOL</a>, and
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Coq_%28software%29"
  target="_blank">Coq</a>. But in this course we&rsquo;ll be
working with the <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Lean_%28proof_assistant%29"
  target="_blank">Lean</a>
proof assistant, which has gotten a lot of traction in the mathematical
community recently. This is in part because of the ease of working with Lean,
and in part because of the incredible
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://leanprover-community.github.io/"
  target="_blank">community</a> surrounding the proof
assistant. There is a lot of documentation, examples, and huge libraries, like
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://leanprover-community.github.io/mathlib-overview.html"
  target="_blank">mathlib</a>, which
contains proofs for a vast amount of important mathematical theorems, fully
formalized and verified in Lean.</p>
<p>Lean is, in effect, a programming language. To verify a proof, you essentially
write a computer program in the Lean programming language, which when run will
return errors if there are mistakes in the proof. The details are, of course,
much bit more complicated, but for our purposes, this picture is enough for now.</p>
<p>Lean-code can be <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Compiler"
  target="_blank">compiled</a> into a
stand-alone program or it can be run directly in your text-editor by an
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Interpreter_%28computing%29"
  target="_blank">interpreter</a>. Using an
interpreter means that we can write a proof-as-code and get live feedback on our
work while writing it. Amazing! Of course, you can
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://lean-lang.org/install/"
  target="_blank">install</a> lean on your own computer, but for
your first steps in the language, you can also use the <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/"
  target="_blank">lean
playground</a>, which runs directly in your browser.</p>
<p>The Lean language is based on Thierry Coquand&rsquo;s <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Calculus_of_constructions"
  target="_blank">calculus of
constructions (COC)</a>. It is a
full-fledged <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Functional_programming"
  target="_blank">functional programming
language</a>. And of course,
we won&rsquo;t be able to give a comprehensive tutorial here. But what we <em>can</em> do is
look at the way we can verify basic logical proofs in propositional logic in
Lean, live in your browser.</p>
<p>Here is a verification of our running example in Lean:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="kn">variable</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="n">WIND</span><span class="w"> </span><span class="n">COLD</span><span class="w"> </span><span class="n">HEATING</span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">example</span><span class="w"> </span><span class="o">(</span><span class="n">rain</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RAIN</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="o">(</span><span class="n">if_rain_or_wind_then_cold</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">WIND</span><span class="o">)</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">COLD</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="o">(</span><span class="n">if_cold_then_heating</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">COLD</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">HEATING</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">HEATING</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_cold_then_heating</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_rain_or_wind_then_cold</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w"> </span><span class="n">rain</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=G4QwTgliBGA2CmACAFAJQIIEkByiDqOAIogMIDyAMsQBICi6AKjgOIBciACmAPYAOAlAChB8AB4gAtrwQowICADtE7DDiGINmjcggAzAPpzF&#43;7mH0B3RQBN9AFwAW8BfoDG3WFeUpVuQBRE&#43;In5EQCTCUkpCdS1NHQM3DztHZ0cQW0UAcy9yKhDEOkYWINZBLTymbGZlAF5EaABPYsQQXmlaxD1XdxsHJ31k1IU0hqaWtoMjZ1MLawSeuKsh5thWsjAAOkVYRHGgA"
  target="_blank">link</a>
to run this code in your browser. As you can see, no error messages are
returned, the proof is correct.</p>
<p>Let&rsquo;s unfold what&rsquo;s going on here.</p>
<p>In the first line</p>
<!-- 
<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>
 -->
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w"> </span><span class="kn">variable</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="n">WIND</span><span class="w"> </span><span class="n">COLD</span><span class="w"> </span><span class="n">HEATING</span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>we declare the variables <code class="customCode">RAIN, WIND, COLD, HEATING</code> to be of
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Type_system"
  target="_blank">type</a> <code class="customCode"><span
class="dark-red">Prop</span></code>. The background theory of Lean is a powerful
system of types, the aforementioned COC, but all we need to know here is that
the syntax here means that <code class="customCode">RAIN, WIND, COLD, HEATING</code> are <code class="customCode"><span
class="dark-red">Prop</span></code>s and <code class="customCode"><span class="dark-red">Prop</span></code> is
Lean&rsquo;s type for propositions, which can be either true or false.</p>
<p>Next, we declare that we&rsquo;re trying to prove an <code class="customCode"><span
class="dark-blue">example</span></code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="kn">example</span><span class="w"> </span><span class="o">(</span><span class="n">rain</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RAIN</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="o">(</span><span class="n">if_rain_or_wind_then_cold</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">WIND</span><span class="o">)</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">COLD</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="o">(</span><span class="n">if_cold_then_heating</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">COLD</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">HEATING</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">HEATING</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>This declaration has itself a complex structure. It begins with the
straight-forward keyword <code class="customCode"><span class="dark-blue">example</span></code> to indicate
that we&rsquo;re dealing with an example. This immediately followed by a sequence of
additional declarations:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="o">(</span><span class="n">rain</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RAIN</span><span class="o">)</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">(</span><span class="n">if_rain_or_wind_then_cold</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">WIND</span><span class="o">)</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">COLD</span><span class="o">)</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">(</span><span class="n">if_cold_then_heating</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">COLD</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">HEATING</span><span class="o">)</span><span class="w">
</span></span></span></code></pre></div><p>To understand what&rsquo;s going on here, we need to talk about how Lean works &ldquo;under
the hood&rdquo;. What we&rsquo;re saying here is, essentially: suppose that <code class="customCode">rain</code> is a
proof of the proposition <code class="customCode">RAIN</code>, <code class="customCode">if_rain_or_wind_then_cold</code> is a proof of
<code class="customCode">(RAIN
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
COLD</code>, and <code class="customCode">if_cold_then_heating</code> is a proof of
<code class="customCode">COLD
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING</code>. Our aim is to show how we can transform these proofs
into a proof of <code class="customCode">HEATING</code>, this is what we declare by following this declaration
by &ldquo;<code class="customCode">: HEATING</code>&rdquo;.</p>
<p>One of the ideas underlying Lean is that saying that a proposition is true and
that there exists a proof of it are, in many contexts, exchangeable. So,
basically, by &ldquo;witnessing&rdquo; each of our propositional variables by a proof (which
we indicate in lowercase), we&rsquo;re assuming that these propositions are true. And
what our ultimate inference does is to convert these proofs into a proof of
<code class="customCode">HEATING</code>—which means we show that <code class="customCode">HEATING</code> is true if the premises are. In
other words, we show that our inference is valid.</p>
<p>What follows next is the formal proof in Lean. It follows our declared goal
<code class="customCode">HEATING</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">    </span><span class="n">HEATING</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_cold_then_heating</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_rain_or_wind_then_cold</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w"> </span><span class="n">rain</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>The <code class="customCode">:=</code> here indicates that a proof begins. The <code class="customCode"><span
class="dark-blue">by</span></code> indicates that we&rsquo;re using what&rsquo;s known as <strong>tactic
mode</strong>. We already mentioned that in Lean, we&rsquo;re basically converting proofs of
assumptions into proofs of our conclusion. This works by means of proof
<em>constructions</em> (whence the name &ldquo;Calculus of Constructions&rdquo;), which we can
write down in different ways. We can directly apply the constructions of COC,
leading to expressions in what&rsquo;s known as <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Typed_lambda_calculus"
  target="_blank">typed lambda
caclulus</a>. These
expressions are the formal foundation of what&rsquo;s going on &ldquo;under the hood&rdquo;, but
they are very difficult to understand for humans.</p>
<p>Luckily, Lean (like many other proof assistants) has the tactic mode. This is
essentially a more human-readable way of expressing formal arguments. We
indicate that we want to use this mode by using the keyword <code class="customCode"><span
class="dark-blue">by</span></code>.</p>
<p>What comes next is the actual proof. It&rsquo;s best to read that proof from bottom to
the top. The line</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w"> </span><span class="n">rain</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>takes the proof of <code class="customCode">RAIN</code> and applies to it (what&rsquo;s effectively) the natural
deduction rule <span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 Intro</span>. That is, this line represents the natural
deduction inference:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/nd_step_1.png" class="mx-auto rounded d-block inert-img img-fluid"  width="200px"  alt="" >

<p>Note that we don&rsquo;t need to tell Lean that we want the other disjunct to be
<code class="customCode">WIND</code>. It will figure this out by itself using automated reasoning techniques, which
we&rsquo;ll discuss later in the course.</p>
<p>The next line working backwards is:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_rain_or_wind_then_cold</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Note that the <code class="customCode">apply</code> keyword, which took 2 arguments in line <code class="customCode">9</code>, only seems to
have one argument here. We&rsquo;re applying the proof <code class="customCode">if_rain_or_wind_then_cold</code> for
<code class="customCode">(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD</code>. But to what?</p>
<p>The answer is that we apply it to the next line, that is line no <code class="customCode">9</code>. The
expression here is parsed just like the following one-liner:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_rain_or_wind_then_cold</span><span class="w"> </span><span class="o">(</span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w"> </span><span class="n">rain</span><span class="o">)</span><span class="w">
</span></span></span></code></pre></div><p>That is Lean recursively applies the proof for <code class="customCode">(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>

COLD</code> to the result of applying the <span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
Intro</span>-rule to the proof for
<code class="customCode">RAIN</code>.</p>
<p>But what does it mean to apply a proof for <code class="customCode">(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>

COLD</code> to a proof for <code class="customCode">(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND)
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 COLD</code>? The answer is
rather obvious: apply MP to infer <code class="customCode">COLD</code>—which is precisely what Lean does here.
That is, at this point, we&rsquo;ve constructed in Lean the following natural
deduction proof:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/nd_step_2.png" class="mx-auto rounded d-block inert-img img-fluid"  width="500px"  alt="" >

<p>Now it should be clear how the proof finishes. The last <code class="customCode">apply</code> takes the proof
for <code class="customCode">COLD
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
HEATING</code> to our proof for <code class="customCode">COLD</code>. That is, reading the lines</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_cold_then_heating</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_rain_or_wind_then_cold</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w"> </span><span class="n">rain</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>as</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">if_cold_then_heating</span><span class="w"> </span><span class="o">(</span><span class="n">apply</span><span class="w"> </span><span class="n">if_rain_or_wind_then_cold</span><span class="w"> </span><span class="o">(</span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w"> </span><span class="n">rain</span><span class="o">))</span><span class="w">
</span></span></span></code></pre></div><p>we&rsquo;ve constructed our full natural deduction proof:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/natural_deduction_derivation.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>Lean is happy. It says that all goals are satisfied and doesn&rsquo;t return an error.
We&rsquo;ve verified our natural deduction inference using Lean 🎉 (Note: This emoji
is used by many Lean interpreters to indicate success. It&rsquo;s also a <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Party_popper"
  target="_blank">party
popper</a>.)</p>
<p>Running through the example, we&rsquo;ve uncovered one of the most fundamental
principles of the theory of computation, which underlies the way Lean verifies
proofs: the so-called <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Curry%60E2%6080%93Howard_correspondence"
  target="_blank"><strong>Curry-Howard
correspondence</strong></a>.
Simply put, the Curry-Howard correspondence states that there&rsquo;s an equivalence
between computer programs and mathematical proofs. The way this shows up here is
that the Lean constructions, which are essentially (and very practically)
computer programs correspond in a one-to-one fashion to natural deduction
inference rules. This correspondence allows us to go back and forth between
natural deduction proofs and Lean programs and it&rsquo;s the very foundation of how
Lean ultimately works.</p>
<p>The correspondence is most clearly visible in the case of conjunctions and
disjunctions. For each the corresponding introduction and elimination rules,
there are corresponding Lean tactics:</p>
<ul>
<li><span class="excalifont">
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
-Intro</span> corresponds to <code class="customCode">And<span class="dark-green">.</span>intro</code>, which <code class="customCode">applied</code> to the proofs of
two propositions yields a proof of their conjunction.</li>
<li><span class="excalifont">
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
-Elim</span> corresponds to the two tactics <code class="customCode">And<span class="dark-green">.</span>left</code> and <code class="customCode">And<span class="dark-green">.</span>right</code>,
which when <code class="customCode">applied</code> to proofs of a conjunction yield proofs of the left or right
conjunct respectively.</li>
<li><span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
-Intro</span> correspond to <code class="customCode">Or<span class="dark-green"><span class="dark-green">.</span></span>inl</code> and <code class="customCode">Or<span class="dark-green">.</span>inr</code>, which when <code class="customCode">applied</code> to
proofs of a proposition yield the disjunction with <em>some</em> other formula on the
left or on the right (Lean figures out which one you mean).</li>
<li><span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
-Elim</span> corresponds  <code class="customCode">Or<span class="dark-green">.</span>elim</code>, which when <code class="customCode">applied</code> to two proofs of a
given conclusion from each of two disjuncts, gives a proof of that conclusion
from the disjunction itself.</li>
</ul>
<p>Here&rsquo;s a simple example to illustrate how this works for <span class="excalifont">
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
-Intro/Elim</span> and <span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
-Intro</span>:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="o">(</span><span class="kn">variable</span><span class="w"> </span><span class="n">RAIN</span><span class="w"> </span><span class="n">WIND</span><span class="w"> </span><span class="n">SUN</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">example</span><span class="w"> </span><span class="o">(</span><span class="n">rain_and_wind</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="n">WIND</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">SUN</span><span class="o">)</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="o">(</span><span class="n">WIND</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">SUN</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">Intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">intro</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">rain_and_wind</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">right</span><span class="w"> </span><span class="n">rain_and_wind</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=G4QwTgliBGA2CmACAFAJQIIEkByiDqOAIogMoCquAXIgApgD2ADgJQBQr8AHiALaMIowICADsA&#43;iBEATMQHdRUxNQw5EgciJ8RZkpQrcgCiJSFbRuQFsxQ&#43;WzbKAXkTQAnolaJEIRvxfppAOlEAFwY3Dy9YFwB5MACRWFd3T29EXyk/BAAzQMQhUQlpOQVQpIjEaNjYYvCff0gAcwALbNzxSRl5aSA"
  target="_blank">link</a> to run this code in your browser.</p>
<p>This code verifies the following natural deduction proof:</p>
<div class="text-center my-4 excalifont">(RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
WIND)
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
(RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
SUN)
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
(WIND
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
SUN)</div>

<img src="https://logicalmethods.ai/textbook/proofs/img/nd_conjunction_disjunction.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>Before we can talk about <span class="excalifont">
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
-Elim</span>, we need to talk about the
conditional. We&rsquo;ve actually already discussed how <span class="excalifont">
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
-Elim</span> works in
Lean: if we have a proof of a conditional, we can directly <code class="customCode">apply</code> it to a proof
of its antecedent to obtain a proof of the consequent. So, how do we do <span class="excalifont">
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
-Intros</span>?</p>
<p>Remember that <span class="excalifont">
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
-Intro</span> works by hypothetical reasoning: to prove <span class="excalifont">A
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
B</span>, we derive <span class="excalifont">B</span> from the assumption that <span class="excalifont">A</span>, which we discharge in the
process. In Lean, we introduce an assumption like this using the <code class="customCode">intro</code> tactic.
Here&rsquo;s how this works in practice:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="o">(</span><span class="kn">variable</span><span class="w"> </span><span class="n">RAIN</span><span class="w"> </span><span class="n">WIND</span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">example</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RAIN</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">WIND</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">intro</span><span class="w"> </span><span class="n">rain</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">exact</span><span class="w"> </span><span class="n">rain</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=BQNwhgTglmBGA2BTABAJQIIEkByyDqOAIgFzIAKEA9gA4CUAUPYgB5gC21SypGOygSYTJgvXIAoifEVrcAvMlgBPZPWTIoAOwAuVZBDDrlyMNU6KA8hAB06&#43;AZZgAxhp161QA"
  target="_blank">link</a> to run this code in your browser.</p>
<p>This is the Lean verification of our earlier natural deduction proof for <span class="excalifont">
<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)</span>:

<img src="https://logicalmethods.ai/textbook/proofs/img/or_intro_axiom.png" class="mx-auto rounded d-block inert-img img-fluid"  width="300px"  alt="" >
</p>
<p>The <code class="customCode">intro</code>-tactic introduces a new hypothesis into the space, which we give the
name <code class="customCode">rain</code>. Lean figures out by itself that this is supposed to be the hypothesis for the
if part of the conditional <span class="excalifont">RAIN 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND)</span>—i.e. for
<code class="customCode">RAIN</code>—since that&rsquo;s what we need to prove at this point.</p>
<p>Note that in the last line we write <code class="customCode">exact rain</code>, rather than just <code class="customCode">rain</code>, which
would also have been fine. The tactic <code class="customCode">exact</code> is &ldquo;<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Syntactic_sugar"
  target="_blank">syntactic
sugar</a>&rdquo; for the <code class="customCode">apply</code>-tactic,
which you&rsquo;re supposed to use when your proof is complete. It doesn&rsquo;t do anything
else than <code class="customCode">apply</code> or not writing anything, but it will fail give more
transparent error messages if proof doesn&rsquo;t quite work—and in this way, <code class="customCode">exact</code>
fosters code Lean practice.</p>
<p>With this in hand, we can move to <code class="customCode">Or<span class="dark-green">.</span>elim</code>. To
illustrate, let&rsquo;s look at a more complex example. Let&rsquo;s verify the following in
Lean:</p>
<div class="customBlock text-center my-4"><code class="customCode">

<img src="/img/v_dash.png" alt="nvdash" class="inline-icon" style="height:1em;width:auto;"/>
RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 (WIND 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 SUN) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 ((RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 SUN))
</code></div>
<p>Here is the Lean code:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="kn">variable</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="n">WIND</span><span class="w"> </span><span class="n">SUN</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">example</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="o">(</span><span class="n">WIND</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">SUN</span><span class="o">)</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="n">WIND</span><span class="o">)</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="n">SUN</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">intro</span><span class="w"> </span><span class="n">rain_and_wind_or_sun</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">elim</span><span class="w"> </span><span class="o">(</span><span class="n">And</span><span class="bp">.</span><span class="n">right</span><span class="w"> </span><span class="n">rain_and_wind_or_sun</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">wind</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">rain_and_wind_or_sun</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">wind</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">sun</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">rain_and_wind_or_sun</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">sun</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=G4QwTgliBGA2CmACAFAJQIIEkByiDqOAIogMoCquAXIgApgD2ADgJQBQr8AHiALaMKJqGHIkDkRCgLZigCiJSFZokBJhCmG5xkwgtlosaudgWUAvImgBPVokQQAdgBcGiMCFsB9EDYAmrgO63v9GCuAM4ArjaWiCCM/GaIAPJgAHTwsBA8KOheSZAA5gAWdk4uNu5evv6ugSHhbFYA7db2jn5ekVbRsQnJtrDtUTGwcVmeSbYO9P2NXCAAxkUjSQgAZkXObh7erQFBYRFWDYgz84jbkY3jjnv9nUPdYzZgN4PD2ZeTB4jT3CeLK2slMpbSrVa6fb5zIp7IA"
  target="_blank">link</a> to run this code in your browser.</p>
<p>This code corresponds to the following derivation in natural deduction:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/nd_complex.png" class="mx-auto rounded d-block inert-img img-fluid"  width="900px"  alt="" >

<p>There are a few things going on here. As we&rsquo;ve discussed before, the Lean can
work out itself that the following line</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="n">intro</span><span class="w"> </span><span class="n">rain_and_wind_or_sun</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>introduces the assumption that <code class="customCode">RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 (WIND 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 SUN)</code>. Lean
&ldquo;knows&rdquo; this because we&rsquo;re trying to prove the conditional:</p>
<div class="customBlock text-center my-4"><code class="customCode">
RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 (WIND 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 SUN) 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 ((RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 SUN))
</code></div>
<p>and the assumption we have to make for this is that <code class="customCode">RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 (WIND 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 SUN)</code>.</p>
<p>Correspondingly, when we apply <code class="customCode">And<span class="dark-green">.</span>right</code> to
this assumption, this gives us a proof of the disjunction <code class="customCode">(WIND 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>

SUN)</code> in</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">elim</span><span class="w"> </span><span class="o">(</span><span class="n">And</span><span class="bp">.</span><span class="n">right</span><span class="w"> </span><span class="n">rain_and_wind_or_sun</span><span class="o">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>To this disjunction, we apply the rule <code class="customCode">OR<span class="dark-green">.</span>elim</code>. But the tactic needs to more arguments, which is what&rsquo;s provided next:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">wind</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">rain_and_wind_or_sun</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">wind</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">sun</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">rain_and_wind_or_sun</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">sun</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>The bullet points <code class="customCode"><span class="dark-green">·</span></code> are, again, &ldquo;syntactic
sugar&rdquo; (you can typeset them by typing &ldquo;<code class="customCode">\.</code>&rdquo; in the online text-editor). They
structure the sub-proof in such a way that we can more easily see what&rsquo;s going
on—which is that we have two proofs, one from <code class="customCode">WIND</code> and one from <code class="customCode">SUN</code> both
ending in <code class="customCode">((RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 WIND) 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 (RAIN 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 SUN))</code>, as
desired.</p>
<p>Note that also here, Lean can work out by itself that <code class="customCode">wind</code> is a proof of
<code class="customCode">WIND</code> and <code class="customCode">sun</code> a proof of <code class="customCode">SUN</code>. In fact, we don&rsquo;t need to use the mnemonic
names here, the following code provides the exact same result:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="kn">variable</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="n">WIND</span><span class="w"> </span><span class="n">SUN</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">example</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="o">(</span><span class="n">WIND</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">SUN</span><span class="o">)</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="n">WIND</span><span class="o">)</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="o">(</span><span class="n">RAIN</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="n">SUN</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">intro</span><span class="w"> </span><span class="n">h</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">elim</span><span class="w"> </span><span class="o">(</span><span class="n">And</span><span class="bp">.</span><span class="n">right</span><span class="w"> </span><span class="n">h</span><span class="o">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">i</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">h</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">i</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">j</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">h</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="bp">·</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">j</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=G4QwTgliBGA2CmACAFAJQIIEkByiDqOAIogMoCquAXIgApgD2ADgJQBQr8AHiALaMKJqGHIkDkRCgLZigCiJSFZokBJhCmG5xkwgtlosaudgWUAvImgBPVokQQAdgBcGiABaXEIRvzOIA8mAB08LAQPCjoNgAmfpAA5k52zmxWAO3W9o4Qrlbunj7&#43;trCZbh6wXmGRtg70hSlcIADG8WV&#43;CABm8S5WyYi1DdauKRWOAFaF2SW5frZgo8WlEZNpVZ2INdy9Ta3t1d1r8UNAA"
  target="_blank">link</a> to run this code in your browser.</p>
<p>The structure of the derivation is enough for Lean to work out what <code class="customCode">h,i,</code> and
<code class="customCode">j</code> stand for.</p>
<p>So far, we&rsquo;ve been dealing with <code class="customCode"><span class="dark-blue">example</span></code> kind of
declarations. But once we start building a more extensive
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Library_%28computing%29"
  target="_blank">library</a> of Lean code, we
want to start naming our results. The standard way of doing this is using the
<code class="customCode"><span class="dark-blue">theorem</span></code> declaration followed by a name. The
following code gives an example:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="kn">theorem</span><span class="w"> </span><span class="n">absorption_right_to_left</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">):</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="n">B</span><span class="o">)</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">intro</span><span class="w"> </span><span class="n">a_or_a_and_b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">elim</span><span class="w"> </span><span class="n">a_or_a_and_b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">exact</span><span class="w"> </span><span class="n">a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">a_and_b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">a_and_b</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=C4Cwpg9gTmC2AEBDARgZ2gB2ASwgOwH0psBzEYA4CAgGzADNh4AKAQXgCF4AueABSgQMASl7tAFEQt2gciJOw&#43;ICTCeO24BeeMgCeAKHjxseYIKQFoBRObwATAsl1IMGGpvgB5KADowNbAgtmLRGtbewB2/UNjRHs9MAAPRABjJmi9cIMjCBMgmzs9PURHZ2VrDzpGbODkIA"
  target="_blank">link</a> to run this code in your browser.</p>
<p>Note that in this proof we also declare our variables inside the name
declaration, which also works with <code class="customCode"><span
class="dark-blue">example</span></code>-style declarations. And we used non-mnemonic
variables <code class="customCode">A</code> and <code class="customCode">B</code>, which is more common when you&rsquo;re proving general logical
laws.</p>
<p>Once we have a name for a theorem, we can use it in later proofs (which, of
course, need to load the earlier proof as well). That is, if we have the
previous code, we can simply <code class="customCode">apply absorption_right_to_left</code> to a proof of
<code class="customCode">A
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
 (A
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
 B)</code> to obtain a proof of <code class="customCode">A</code>.</p>
<p>This gives you an idea of how to verify proofs in Boolean propositional logic
involving 
<img src="/img/conjunction.png" alt="Conjunction" class="inline-icon" style="height:1em;width:auto;"/>
, 
<img src="/img/disjunction.png" alt="Disjunction" class="inline-icon" style="height:1em;width:auto;"/>
, and 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 using tactics-based Lean
code. Of course, Lean is much, <em>much</em> more powerful than that: it can verify
logical proofs from even the most cutting-edge areas of mathematics and
physics with relative ease—this is part of its appeal to mathematicians!</p>
<p>You&rsquo;ll learn more advanced Lean techniques later in this course, but before we
move on to other logical systems, we should discuss how the negation operator

<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
 works in Lean.</p>
<p>For this, let&rsquo;s inspect the natural deduction rules for 
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/negation_rules.png" class="mx-auto rounded d-block inert-img img-fluid"  width="600px"  alt="" >

<p>The thing to note here is that <span class="excalifont">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
A</span> behaves <em>exactly</em> like
<span class="excalifont">A 
<img src="/img/to.png" alt="Implication" class="inline-icon" style="height:1em;width:auto;"/>
 
 <img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
</span>, where <span class="excalifont">
<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
</span> is the special <em>falsum</em>
constant. Lean takes this to be the defining feature of negation, which is an
idea that traces back to Lean&rsquo;s
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Intuitionistic_logic"
  target="_blank">intuitionistic</a>-roots,
which we don&rsquo;t have time to look into now.</p>
<p>This means that we can <code class="customCode">apply</code> formulas of the form <code class="customCode">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
A</code> to formulas
of the form <code class="customCode">A</code> to obtain a proof of 
<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
, and if we can derive

<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
 from a formula <code class="customCode">A</code>, this gives us a proof of <code class="customCode">
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>
 A</code>. Here is
an example that illustrates both ideas at the same time:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="kn">theorem</span><span class="w"> </span><span class="n">de_morgan_one_ltr</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">):</span><span class="w"> </span><span class="bp">¬</span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="bp">∨</span><span class="w"> </span><span class="n">B</span><span class="o">)</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="o">(</span><span class="bp">¬</span><span class="n">A</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="bp">¬</span><span class="w"> </span><span class="n">B</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">intro</span><span class="w"> </span><span class="n">not_a_or_b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">intro</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">apply</span><span class="w"> </span><span class="n">not_a_or_b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inl</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">exact</span><span class="w"> </span><span class="n">a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="bp">·</span><span class="w"> </span><span class="n">intro</span><span class="w"> </span><span class="n">b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">apply</span><span class="w"> </span><span class="n">not_a_or_b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">apply</span><span class="w"> </span><span class="n">Or</span><span class="bp">.</span><span class="n">inr</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">exact</span><span class="w"> </span><span class="n">b</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=C4Cwpg9gTmC2AEATMB9W0DmBDAdiiOqANsFPABQCC8AQvAFzwAKUEADgJSMA1V8gFES0O8QEmEFbtUDkRPG5CGAXngAjAJ4AoeJoCWOUhHg4IwFFnxQUSjZqxs2RFfEo5EAOh16r8AO3x3reFie1rb2BkYmZhZBASEOAPJQbjhE0WAAHlgAxsABnj5&#43;&#43;paaxTZ2DobGptBRxcFl8AlJUKkZ2cpAA"
  target="_blank">link</a> to run this code in your browser.</p>
<p>Under the ideas just outlined, this code corresponds to the following natural deduction proof:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/de_morgan_nd.png" class="mx-auto rounded d-block inert-img img-fluid"  width="400px"  alt="" >

<p>Note that in our Lean derivation, we didn&rsquo;t need to write out 
<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
, but
if you ever have to, it works by writing <code class="customCode">False</code>. That is, you can write &ldquo;<code class="customCode">A
<span class="dark-green">→</span> False</code>&rdquo; instead of &ldquo;<code class="customCode"><span class="dark-green">¬</span>A</code>&rdquo; and say the same thing.</p>
<p>The principle <span class="excalifont">Ex falso</span>, which states that you can derive any consequence from
a contradiction has the equivalent Lean tactic <code class="customCode">False.elim</code>, which you can also
refer to by <code class="customCode">absurd</code>. So, we can prove the law:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="kn">theorem</span><span class="w"> </span><span class="n">ex_falso_quodlibet</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="bp">∧</span><span class="w"> </span><span class="bp">¬</span><span class="w"> </span><span class="n">A</span><span class="o">)</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">C</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">intro</span><span class="w"> </span><span class="n">a_and_neg_a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">False</span><span class="bp">.</span><span class="n">elim</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">right</span><span class="w"> </span><span class="n">a_and_neg_a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">exact</span><span class="w"> </span><span class="n">And</span><span class="bp">.</span><span class="n">left</span><span class="w"> </span><span class="n">a_and_neg_a</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=C4Cwpg9gTmC2AEYAeB9AZgQwDYGcIoEcBXCAEywEsAjMYeACgEF4BheALngAUoIAHAJQcGzQORE8ADXxGQwEmErDgF54VAJ4AoePAoA7YL3gYUGHaRQ6wAc2ObDfPllXwAYthxgAdGEqxbGe47Sph5QFJYgdEYmZhbWGLbIGADGdIzBWGBokcam5lbGQA"
  target="_blank">link</a> to run this code in your browser.</p>
<p>What&rsquo;s left is to discuss the rule 
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>

<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
, which is peculiar in
natural deduction, as in Lean:</p>

<img src="https://logicalmethods.ai/textbook/proofs/img/neg_bot.png" class="mx-auto rounded d-block inert-img img-fluid"  width="100px"  alt="" >

<p>This rule is <em>not</em> standardly available in Lean. This again has to do with
Lean&rsquo;s roots in intuitionistic logic, where the rule fails. But we can <em>load</em>
the rule by the line <code class="customCode"><span class="dark-blue">open</span> Classical</code>. The rule is needed, for example, to
derive the law of double negation elimination:</p>

<img src="/img/lean_logo.png" alt="Lean_Logo" class="float-start" style="height:1em;width:auto;"/>

<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="kn">open</span><span class="w"> </span><span class="n">Classical</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">theorem</span><span class="w"> </span><span class="n">double_negation_elim</span><span class="w"> </span><span class="o">(</span><span class="n">A</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">Prop</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="bp">¬¬</span><span class="n">A</span><span class="w"> </span><span class="bp">→</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="o">:</span><span class="bp">=</span><span class="w"> </span><span class="k">by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">intro</span><span class="w"> </span><span class="n">not_not_a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">byContradiction</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">not_not_a</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Click this
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://live.lean-lang.org/#codez=PYBwpgdgBAwgNgQwM5IJYGMFwFDYC4AWYwATmALZQAmwArgEZxgD6EYA5gnqsBM2HFSUAFAEEoALigAFEqACUkqABrl4wEmEUcRIC8UegE9sUKKgh45UCMDysbzBMagIQIOAf0GYvCwioZuXicXNw9rW3CHIA"
  target="_blank">link</a> to run this code in your browser.</p>
<p>What&rsquo;s going on here is that by the line <code class="customCode"><span class="dark-blue">open</span>
Classical</code>, we make the new tactic <code class="customCode">byContradiction</code> available, which allows us
to derive <code class="customCode">A</code> from a proof of <code class="customCode">⊥</code> from the assumption that <code class="customCode"><span
class="dark-green">¬</span>A</code>. This is precisely what&rsquo;s going on here:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-lean4" data-lang="lean4"><span class="line"><span class="cl"><span class="w">  </span><span class="n">intro</span><span class="w"> </span><span class="n">not_not_a</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">byContradiction</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">apply</span><span class="w"> </span><span class="n">not_not_a</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>The tactic <code class="customCode">byContradiction</code> introduces the hypothesis <code class="customCode">not_a</code>, which is a proof
of <code class="customCode"><span class="dark-green">¬</span>A</code>. We apply our previous assumption
<code class="customCode">not_not_a</code> to this to obtain <code class="customCode">False</code> via MP, which is enough to infer <code class="customCode">A</code>
according to the idea underlying 
<img src="/img/negation.png" alt="Negation" class="inline-icon" style="height:1em;width:auto;"/>

<img src="/img/bot.png" alt="Falsum" class="inline-icon" style="height:1em;width:auto;"/>
.</p>
<p>This concludes our teaser of Lean for proof verification in classical Boolean
logic. This is just the very beginning of a huge field of active AI research,
which has the potential to change the way we use mathematics in our research.
There are attempts to use traditional ATP-techniques &ldquo;proof search&rdquo; to automate
the search for proofs via tactics like <code class="customCode">exact?</code>, which searches the
<code class="customCode">mathlib</code>-library for any theorem that fits all the open assumptions we
currently have. This could help researchers find results even if they&rsquo;ve never
heard of them.</p>
<p>At the same time, Lean is playground for GenAI techniques, which in 2024 helped
researchers at Google&rsquo;s <em>DeepMind</em> research group develop an AI-system that
achieved <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://deepmind.google/discover/blog/ai-solves-imo-problems-at-silver-medal-level/"
  target="_blank">silver-medal standard at IMO
problems</a>.</p>
<h2 id="further-readings">Further readings<button class="btn btn-back-to-top">
    
    <i class="bi bi-chevron-double-up"></i>
    
  </button>
</h2>
<hr>

<p>An excellent introduction to <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://en.wikipedia.org/wiki/Structural_proof_theory"
  target="_blank">structural proof
theory</a> is Sara Negri and
Jan van Plato&rsquo;s <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://www.cambridge.org/core/books/structural-proof-theory/487F9F5F1E6174867B458B819043C36B"
  target="_blank">Structural Proof
Theory</a>.
CUP 2010.</p>
<p>If you want to learn more about <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://lean-lang.org/"
  target="_blank">Lean</a> and its use for
proof verification, a great place to start is <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://leanprover.github.io/theorem_proving_in_lean4/"
  target="_blank">Theorem Proving in Lean
4</a> by  Jeremy Avigad,
Leonardo de Moura, Soonho Kong, Sebastian Ullrich, and contributions from the
broader Lean Community.</p>
<p>A great &ldquo;playground&rdquo; is the <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://adam.math.hhu.de/#/g/leanprover-community/nng4"
  target="_blank">natural number
game</a>. In general, the
<i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://adam.math.hhu.de/"
  target="_blank">Lean Game Server</a> contains an awesome collection of
<em>gamified</em> introductions to Lean.</p>
<p>You can find an amazing talk about how AI can influence science and mathematics,
in part using proof systems under <i class="bi bi-box-arrow-up-right h-6"></i>
<a class="link-dark" href="https://www.youtube.com/watch?v=_sTDSO74D8Q"
  target="_blank">https://www.youtube.com/watch?v=_sTDSO74D8Q</a>.</p>


  </div>
   <p><em>Last edited: </em>03/10/2025</p>
</div>


<ul class="navbar-nav flex-row justify-content-between mt-auto">
  
  <li class="nav-item">
    <a href="/textbook/conditionals/" class="btn" tabindex="-1" role="button" aria-disabled="true">
      <i class="bi bi-chevron-left"></i>
    </a>
    
  </li>
  <li class="nav-item">
    <button class="btn btn-back-to-top">
    <i class="bi bi-chevron-double-up"></i>
  </button>
  </li>
  <li class="nav-item">
    
    <a href="/textbook/fol/" class="btn" tabindex="-1" role="button" aria-disabled="true">
      <i class="bi bi-chevron-right"></i>
    </a>
    
  </li>
</ul>

    </main>
    <footer class="align-self-center d-flex flex-column mt-md-1 p-0" data-bs-theme="dark">
      <nav class="navbar bg-dark shadow" data-bs-theme="dark" aria-label="footer-navbar">
  <div class="container-sm align-self-center px-3">
    <a class="navbar-brand fs-6" href="/about" aria-label="copyright-link">&copy; 2025 jkorbmacher et al. </a>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link fs-6" href="https://github.com/jkorb/logicalmethods.ai" target="_blank"><i class="bi bi-github"></i></a>
      </li>
    </ul>
  </div>
</nav>
 
      <script src="https://logicalmethods.ai/js/helpers.js"></script>
      <script src="https://logicalmethods.ai/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
      
      
    </footer>
  </body>
</html>
